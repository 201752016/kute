
<!-- saved from url=(0035)http://socketchessplay.getforge.io/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<link rel="stylesheet" href="./socketchessplay.getforge.io_files/chessboard-0.3.0.css">
	<script src="./socketchessplay.getforge.io_files/chessboard-0.3.0.js"></script>
<script src="./socketchessplay.getforge.io_files/chess.js"></script>
<script src="./socketchessplay.getforge.io_files/peer.js"></script>
<link href="./socketchessplay.getforge.io_files/css" rel="stylesheet"> 
<link href="./socketchessplay.getforge.io_files/css(1)" rel="stylesheet"> 

<script src="./socketchessplay.getforge.io_files/jquery.min.js"></script>
<style type="text/css">

.white
{
float: left;
  margin-left: 15px;
  font-size: 40px;
  font-weight: bold;
  font-family: 'Arapey', serif;

}
.black{
float: right;
  margin-right: 25px;
  font-size: 40px;
   font-weight: bold;
   font-family: 'Arapey', serif;
}
  .head
  {
    text-align: center;
    font-family: 'Fresca', sans-serif;
    font-size: 50px;

  }
 .w
 {
  float: left;
  margin-left: 2px;
}

 .bl
 {
  float: right;
  margin-left: 2px;
 }
</style>

      <script>
        (function(t,u,r,b,o,s){
          o=document.createElement(u);
          o.setAttribute('data-turbojs', b);
          o.async=1;o.src=r;
          s=t.getElementsByTagName(u)[0];
          s.parentNode.insertBefore(o, null);
        })(document, 'script',
          "//dooe3vx785zy.cloudfront.net/assets/turbojs/8/turbo.js?version=8",
          'https://cdn.getforge.com/socketchessplay.getforge.io/1500257171/_squish.js');
      </script><script src="./socketchessplay.getforge.io_files/_squish.js"></script><script data-turbojs="https://cdn.getforge.com/socketchessplay.getforge.io/1500257171/_squish.js" async="" src="./socketchessplay.getforge.io_files/turbo.js"></script>
    </head>
<body bgcolor="dff3f2">
<h1 class="head"><img src="./socketchessplay.getforge.io_files/wQ.png">CHESS<img src="./socketchessplay.getforge.io_files/bQ.png">
</h1>
<h2>
  <div align="center">
   <font color="brown"><b><i>Id for your session: </i></b></font><b><i> <input type="text" name="fname" id="sessionId"><br>
   <button onclick="registerSession()">Join In !</button>
 </i></b></div><b><i>
</i></b></h2><b><i>
<h3>
<div align="center">
  <font color="brown" id="RTCStatus"><b><i> </i></b></font><b><i>
</i></b></div></h3><b><i>
<h3>
<div align="center">
  <font color="brown" id="PeerId">Id : 579tsj96gu95dn29</font><b><i>
</i></b></div></h3><b><i>

<div class="white">
White Player
</div>
<div class="black">
Black Player<br>
</div>
<div id="board" style="width: 500px; margin:0 auto;"><div class="chessboard-63f37"><div class="board-b72b1" style="width: 496px;"><div class="row-5277c"><div class="square-55d63 white-1e1d7 square-a8" style="width: 62px; height: 62px" id="a8-8ea4-2009-deea-2970-6912-4258-451b-f4b7" data-square="a8"><div class="notation-322f9 numeric-fc462">8</div><img src="./socketchessplay.getforge.io_files/bR.png" alt="" class="piece-417db" data-piece="bR" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-b8" style="width: 62px; height: 62px" id="b8-2882-5672-0677-1b2b-e6e7-29d6-1836-e9a8" data-square="b8"><img src="./socketchessplay.getforge.io_files/bN.png" alt="" class="piece-417db" data-piece="bN" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-c8" style="width: 62px; height: 62px" id="c8-5d87-4e09-543f-1973-6bcf-7d80-f53b-25c6" data-square="c8"><img src="./socketchessplay.getforge.io_files/bB.png" alt="" class="piece-417db" data-piece="bB" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-d8" style="width: 62px; height: 62px" id="d8-d604-9c8d-8a15-7861-2fb3-c047-492e-63b3" data-square="d8"><img src="./socketchessplay.getforge.io_files/bQ(1).png" alt="" class="piece-417db" data-piece="bQ" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-e8" style="width: 62px; height: 62px" id="e8-bf75-d5a6-924a-fa64-d447-5463-af1a-1531" data-square="e8"><img src="./socketchessplay.getforge.io_files/bK.png" alt="" class="piece-417db" data-piece="bK" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-f8" style="width: 62px; height: 62px" id="f8-8e84-2a63-0bed-9091-759b-febf-7428-ede3" data-square="f8"><img src="./socketchessplay.getforge.io_files/bB.png" alt="" class="piece-417db" data-piece="bB" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-g8" style="width: 62px; height: 62px" id="g8-6691-bafb-4f3b-1fbd-5ab3-d5d1-c0cf-9769" data-square="g8"><img src="./socketchessplay.getforge.io_files/bN.png" alt="" class="piece-417db" data-piece="bN" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-h8" style="width: 62px; height: 62px" id="h8-c262-2090-d1ba-61d6-966b-5466-f40a-4275" data-square="h8"><img src="./socketchessplay.getforge.io_files/bR.png" alt="" class="piece-417db" data-piece="bR" style="width: 62px;height: 62px;"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 black-3c85d square-a7" style="width: 62px; height: 62px" id="a7-af55-fc46-3fb1-2350-373f-7a34-6a4b-c244" data-square="a7"><div class="notation-322f9 numeric-fc462">7</div><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-b7" style="width: 62px; height: 62px" id="b7-6fcf-0b07-5c2b-fca8-b5a0-81f7-6a0f-8ba2" data-square="b7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-c7" style="width: 62px; height: 62px" id="c7-ad80-c8e4-3089-c0ad-3780-1316-be49-db82" data-square="c7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-d7" style="width: 62px; height: 62px" id="d7-44fc-a159-fb76-d8f6-4c65-24ed-09ea-89c1" data-square="d7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-e7" style="width: 62px; height: 62px" id="e7-b08b-8072-ca4b-cea0-2ed8-b657-1db7-1212" data-square="e7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-f7" style="width: 62px; height: 62px" id="f7-107d-85a8-602f-4c64-bac9-0121-7f30-6912" data-square="f7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-g7" style="width: 62px; height: 62px" id="g7-945e-43ac-d47f-7cc6-a73b-a048-3c22-a79d" data-square="g7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-h7" style="width: 62px; height: 62px" id="h7-f2f9-1237-86f5-7d3e-5a62-617d-65a7-4449" data-square="h7"><img src="./socketchessplay.getforge.io_files/bP.png" alt="" class="piece-417db" data-piece="bP" style="width: 62px;height: 62px;"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 white-1e1d7 square-a6" style="width: 62px; height: 62px" id="a6-f23c-58e4-76b2-398c-2680-fdc7-eaf7-ee61" data-square="a6"><div class="notation-322f9 numeric-fc462">6</div></div><div class="square-55d63 black-3c85d square-b6" style="width: 62px; height: 62px" id="b6-5b38-14ac-8e27-e3bb-0998-d84b-f8b3-2d12" data-square="b6"></div><div class="square-55d63 white-1e1d7 square-c6" style="width: 62px; height: 62px" id="c6-c6e8-9a34-756c-de6f-bb70-ed79-1a52-5932" data-square="c6"></div><div class="square-55d63 black-3c85d square-d6" style="width: 62px; height: 62px" id="d6-97fe-5331-7e00-4cd7-e25e-af9a-d250-63e9" data-square="d6"></div><div class="square-55d63 white-1e1d7 square-e6" style="width: 62px; height: 62px" id="e6-82a8-0b9c-15cc-a4d2-d8e9-4eed-8482-9fef" data-square="e6"></div><div class="square-55d63 black-3c85d square-f6" style="width: 62px; height: 62px" id="f6-0ebc-6697-9e52-4ab2-e20d-707c-d22f-c498" data-square="f6"></div><div class="square-55d63 white-1e1d7 square-g6" style="width: 62px; height: 62px" id="g6-42f0-481d-7b0c-0c1f-0f87-709a-4f53-8033" data-square="g6"></div><div class="square-55d63 black-3c85d square-h6" style="width: 62px; height: 62px" id="h6-471b-801b-ae34-0183-39fb-6d12-3c12-fddf" data-square="h6"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 black-3c85d square-a5" style="width: 62px; height: 62px" id="a5-ef9c-a02d-b583-62ad-67ab-fbb8-9db0-940f" data-square="a5"><div class="notation-322f9 numeric-fc462">5</div></div><div class="square-55d63 white-1e1d7 square-b5" style="width: 62px; height: 62px" id="b5-a0a5-7e3f-9a6f-5c01-b11b-0d8a-688a-c6ea" data-square="b5"></div><div class="square-55d63 black-3c85d square-c5" style="width: 62px; height: 62px" id="c5-8c4c-3a3a-cd4c-3097-dee9-c8c3-050b-7543" data-square="c5"></div><div class="square-55d63 white-1e1d7 square-d5" style="width: 62px; height: 62px" id="d5-6016-939e-076a-7778-eb09-47aa-9030-ce25" data-square="d5"></div><div class="square-55d63 black-3c85d square-e5" style="width: 62px; height: 62px" id="e5-86a9-8068-71a8-50f2-6931-8b6e-cca9-fa8d" data-square="e5"></div><div class="square-55d63 white-1e1d7 square-f5" style="width: 62px; height: 62px" id="f5-663d-4bf8-d729-0331-38d0-3ecd-e6cd-e846" data-square="f5"></div><div class="square-55d63 black-3c85d square-g5" style="width: 62px; height: 62px" id="g5-077e-fb7f-d627-460a-b58c-04ae-c25c-e568" data-square="g5"></div><div class="square-55d63 white-1e1d7 square-h5" style="width: 62px; height: 62px" id="h5-3664-030c-c2d7-3466-344f-ec3d-2e7e-4aaf" data-square="h5"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 white-1e1d7 square-a4" style="width: 62px; height: 62px" id="a4-58eb-bbb9-e361-4fd9-99a9-ccaf-7507-441c" data-square="a4"><div class="notation-322f9 numeric-fc462">4</div></div><div class="square-55d63 black-3c85d square-b4" style="width: 62px; height: 62px" id="b4-4c5e-dee3-4961-e6c9-7c6d-fcd3-8394-6b49" data-square="b4"></div><div class="square-55d63 white-1e1d7 square-c4" style="width: 62px; height: 62px" id="c4-dbf3-9190-bb2a-81e7-2c37-d264-be5c-b44f" data-square="c4"></div><div class="square-55d63 black-3c85d square-d4" style="width: 62px; height: 62px" id="d4-59d5-8b49-34ff-237b-244b-cdeb-56a2-200e" data-square="d4"></div><div class="square-55d63 white-1e1d7 square-e4" style="width: 62px; height: 62px" id="e4-47dd-78e6-1556-aff3-cea0-0e85-a642-2932" data-square="e4"></div><div class="square-55d63 black-3c85d square-f4" style="width: 62px; height: 62px" id="f4-7d83-8218-4e65-f2f6-a801-58b9-35b0-afcd" data-square="f4"></div><div class="square-55d63 white-1e1d7 square-g4" style="width: 62px; height: 62px" id="g4-804c-e9aa-a7b8-b558-5960-edb6-0582-c146" data-square="g4"></div><div class="square-55d63 black-3c85d square-h4" style="width: 62px; height: 62px" id="h4-7112-4963-5aeb-4597-62df-2a11-e8d0-b208" data-square="h4"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 black-3c85d square-a3" style="width: 62px; height: 62px" id="a3-7406-fe41-4c49-70c9-512f-c3e5-e7c1-a04d" data-square="a3"><div class="notation-322f9 numeric-fc462">3</div></div><div class="square-55d63 white-1e1d7 square-b3" style="width: 62px; height: 62px" id="b3-c9e8-36e0-049c-e783-0bd2-0aa4-90f2-bea0" data-square="b3"></div><div class="square-55d63 black-3c85d square-c3" style="width: 62px; height: 62px" id="c3-79aa-6ecf-e036-27ed-5b94-e0a2-1a27-9cb3" data-square="c3"></div><div class="square-55d63 white-1e1d7 square-d3" style="width: 62px; height: 62px" id="d3-88be-0575-7476-a8a4-756f-80ff-6260-6bc4" data-square="d3"></div><div class="square-55d63 black-3c85d square-e3" style="width: 62px; height: 62px" id="e3-a6f7-55df-8764-a650-c068-f33d-db08-522a" data-square="e3"></div><div class="square-55d63 white-1e1d7 square-f3" style="width: 62px; height: 62px" id="f3-b446-e178-bfd7-c231-c0d9-f9a9-a390-b4fb" data-square="f3"></div><div class="square-55d63 black-3c85d square-g3" style="width: 62px; height: 62px" id="g3-8f5e-a2ab-dc73-6a4a-4061-39f4-c46e-bca9" data-square="g3"></div><div class="square-55d63 white-1e1d7 square-h3" style="width: 62px; height: 62px" id="h3-0d91-71b9-7dc0-aa7a-da1c-1bf4-348a-578f" data-square="h3"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 white-1e1d7 square-a2" style="width: 62px; height: 62px" id="a2-6601-1a74-d41e-7b04-d935-26ce-a9d4-11cd" data-square="a2"><div class="notation-322f9 numeric-fc462">2</div><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-b2" style="width: 62px; height: 62px" id="b2-8e4c-b8c2-6213-2210-d7fc-362d-ccc6-d55d" data-square="b2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-c2" style="width: 62px; height: 62px" id="c2-9733-9c3a-046b-e73b-de0e-8570-96b7-6c52" data-square="c2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-d2" style="width: 62px; height: 62px" id="d2-eb9a-e149-acbc-8086-d298-640f-7c73-6ce7" data-square="d2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-e2" style="width: 62px; height: 62px" id="e2-ed01-57bf-b592-b6b5-9004-36ae-f513-603a" data-square="e2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-f2" style="width: 62px; height: 62px" id="f2-1689-3e69-b278-21b0-39a3-dc8d-5546-2e99" data-square="f2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-g2" style="width: 62px; height: 62px" id="g2-97b5-3586-0bdf-c4cc-6e39-ff51-94e2-9327" data-square="g2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-h2" style="width: 62px; height: 62px" id="h2-be2f-1645-0c75-511a-e5c3-91a8-ccf1-6297" data-square="h2"><img src="./socketchessplay.getforge.io_files/wP.png" alt="" class="piece-417db" data-piece="wP" style="width: 62px;height: 62px;"></div><div class="clearfix-7da63"></div></div><div class="row-5277c"><div class="square-55d63 black-3c85d square-a1" style="width: 62px; height: 62px" id="a1-0318-b082-43a2-714d-25ec-0d18-0bf4-b2c9" data-square="a1"><div class="notation-322f9 alpha-d2270">a</div><div class="notation-322f9 numeric-fc462">1</div><img src="./socketchessplay.getforge.io_files/wR.png" alt="" class="piece-417db" data-piece="wR" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-b1" style="width: 62px; height: 62px" id="b1-9d76-287d-fd3d-4c3d-744f-281a-3dd2-aff9" data-square="b1"><div class="notation-322f9 alpha-d2270">b</div><img src="./socketchessplay.getforge.io_files/wN.png" alt="" class="piece-417db" data-piece="wN" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-c1" style="width: 62px; height: 62px" id="c1-258e-e782-0a3f-db28-454c-4a87-61b0-b009" data-square="c1"><div class="notation-322f9 alpha-d2270">c</div><img src="./socketchessplay.getforge.io_files/wB.png" alt="" class="piece-417db" data-piece="wB" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-d1" style="width: 62px; height: 62px" id="d1-ded4-d35c-8d87-b716-89ee-d14d-112f-c472" data-square="d1"><div class="notation-322f9 alpha-d2270">d</div><img src="./socketchessplay.getforge.io_files/wQ(1).png" alt="" class="piece-417db" data-piece="wQ" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-e1" style="width: 62px; height: 62px" id="e1-94b7-8c3e-b614-38dc-8710-db8c-101d-8e8d" data-square="e1"><div class="notation-322f9 alpha-d2270">e</div><img src="./socketchessplay.getforge.io_files/wK.png" alt="" class="piece-417db" data-piece="wK" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-f1" style="width: 62px; height: 62px" id="f1-56aa-089a-6d1c-6495-1184-4e45-d93c-d59c" data-square="f1"><div class="notation-322f9 alpha-d2270">f</div><img src="./socketchessplay.getforge.io_files/wB.png" alt="" class="piece-417db" data-piece="wB" style="width: 62px;height: 62px;"></div><div class="square-55d63 black-3c85d square-g1" style="width: 62px; height: 62px" id="g1-563b-1379-ea54-e765-890c-a779-1a9b-5a16" data-square="g1"><div class="notation-322f9 alpha-d2270">g</div><img src="./socketchessplay.getforge.io_files/wN.png" alt="" class="piece-417db" data-piece="wN" style="width: 62px;height: 62px;"></div><div class="square-55d63 white-1e1d7 square-h1" style="width: 62px; height: 62px" id="h1-1cf5-47e7-9258-6bca-be63-fafc-99b3-5f9a" data-square="h1"><div class="notation-322f9 alpha-d2270">h</div><img src="./socketchessplay.getforge.io_files/wR.png" alt="" class="piece-417db" data-piece="wR" style="width: 62px;height: 62px;"></div><div class="clearfix-7da63"></div></div></div></div></div>
<p align="center"><font color="brown"><b><i>STATUS: </i></b></font><b><i><span id="status">White to Move</span></i></b></p><p></p><p></p>
<!-- <p>FEN: <span id="fen"></span></p> -->
<!-- <p align="center">PGN: <span id="pgn"></span></p>
 --><meta name="forge-tag" value="forge-token:1500257171">
<script type="text/javascript">
var board,
  game = new Chess(),
  statusEl = $('#status'),
  fenEl = $('#fen'),
  pgnEl = $('#pgn');
  turn=true;
  is_multiplayer=false;
  //The turn variables signify the turn of the user in a multiplayer game 


// do not pick up pieces if the game is over
// only pick up pieces for the side to move
var onDragStart = function(source, piece, position, orientation) {
  if (game.game_over() === true ||
      (game.turn() === 'w' && piece.search(/^b/) !== -1) ||
      (game.turn() === 'b' && piece.search(/^w/) !== -1)|| turn===false) {
    return false;
  }
};

var onDrop = function(source, target) {
  // see if the move is legal
  var move = game.move({
    from: source,
    to: target,
    promotion: 'q' // NOTE: always promote to a queen for example simplicity
  });

  // illegal move
  if (move === null) return 'snapback';
  if(turn===false) return 'snapback';

  //Only if we have a multiplayer connection we will send data to peer
  if(is_multiplayer){
  peer_connection.send({
    start:source,
    target:target
  })
  turn=false;
}
  updateStatus();
};

// update the board position after the piece snap 
// for castling, en passant, pawn promotion
var onSnapEnd = function() {
  board.position(game.fen());

};

var updateStatus = function() {
  var status = '';

  var moveColor = 'White';
  if (game.turn() === 'b') {
    moveColor = 'Black';
  }

  // checkmate?
  if (game.in_checkmate() === true) {
    status = 'Game over, ' + moveColor + ' is in checkmate.';
  }

  // draw?
  else if (game.in_draw() === true) {
    status = 'Game over, drawn position';
  }

  // game still on
  else {
    status = moveColor + ' to Move';

    // check?
    if (game.in_check() === true) {
      status += ', ' + moveColor + ' is in check';
    }
  }

  statusEl.html(status);
 /* fenEl.html(game.fen());*/
  pgnEl.html(game.pgn());
};

var cfg = {
  draggable: true,
  position: 'start',
  onDragStart: onDragStart,
  onDrop: onDrop,
  onSnapEnd: onSnapEnd
};
board = ChessBoard('board', cfg);

updateStatus();
</script>
<script type="text/javascript">

//This is the script that is making the RTC sockets work

//Create a new peer object with a custom server key obtained from peer.js
var peer = new Peer({key: 'ze63oa5saa21q0k9'});


//get other objects from the DOM 
var status_bar=document.getElementById("RTCStatus");
var peer_id_display=document.getElementById("PeerId");
var peer_connection;


//Callback for connection with RTC Server
peer.on('open', function(id) {
  console.log('My peer ID is: ' + id);
  peer_id_display.innerHTML="Id : "+id;
});


//Receive connection from clients
peer.on('connection', function(conn) {
  //Initialise a multi player game
  status_bar.innerHTML="Received a Connection";
  is_multiplayer=true;
  board = ChessBoard('board', cfg);

  //Receive message callback
  conn.on('data', function(data) {
    console.log('Received', data);
    //Move the pieces accordingly
    peerMoved(data.start,data.target);
    turn=true;
  });
  peer_connection=conn;
});


//Function to handle the registration of a session
function registerSession(){
  connectPeer(document.getElementById("sessionId").value);
  turn=false;
  return;
}


//Function to send connection to other peer
function connectPeer(peer_id){
  peer_connection=peer.connect(peer_id);
  peer_connection.on('open', function() {
  //Initialise a multi-player game
  board = ChessBoard('board', cfg);
  status_bar.innerHTML="Connected..Let's Go";
  is_multiplayer=true;

  //Receive Message Callback
  peer_connection.on('data', function(data) {
    console.log('Received', data);
    peerMoved(data.start,data.target);
    turn=true;        
  });
});
}


//function to move the pieces according to the player
function peerMoved(startIt,targetTo){
    console.log("We are moving from"+startIt+" to "+targetTo)
    game.move({from: startIt, to: targetTo});
    board.position(game.fen()); // fen is the board layout
    updateStatus();
}
</script>




  <!--
<div class="w">
<img src="https://cdn.getforge.com/socketchessplay.getforge.io/1500257171/img/chesspieces/wikipedia/wQ.png">
</div>
<div class="bl">
<img src="https://cdn.getforge.com/socketchessplay.getforge.io/1500257171/img/chesspieces/wikipedia/bQ.png">
</div>--></i></b></i></b></i></b><img src="./socketchessplay.getforge.io_files/wP.png" id="cb4a-5a01-4335-1d74-2139-93d0-8d91-4d39" alt="" class="piece-417db" data-piece="wP" style="display: none; height: 62px; width: 62px;"></body></html>